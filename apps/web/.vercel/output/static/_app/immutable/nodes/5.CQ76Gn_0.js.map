{"version":3,"mappings":"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","names":["instruments","$.state","$.proxy","loading","hasLoaded","showCreateModal","newName","newBaseType","newStrings","newFrets","newIsPublic","creating","formError","COMMON_TUNINGS","$.user_effect","browser","loadInstruments","CustomInstrumentRepository","getDatabase","__vitePreload","users","err","$.set","selectTuning","tuning","createInstrument","stringsArray","$.get","s","generateId","newInstrument","deleteInstrument","id","i","formatStrings","strings","$.head","$$anchor","main","$.first_child","fragment","header","button","div","root_2","div_1","root_4","button_1","div_2","root_5","instrument","div_3","root_6","div_4","h3","span","div_5","div_6","span_1","div_7","span_2","div_8","span_3","span_4","root_7","$$render","consequent_2","div_9","$.sibling","node_2","button_2","$.set_text","text","text_1","text_3","consequent_1","alternate","consequent","alternate_1","div_10","root_8","div_11","e","div_12","root_9","consequent_3","form","node_4","div_13","input","$.child","$.remove_input_defaults","div_14","select","INSTRUMENTS","$.index","inst","option","root_10","div_15","root_11","div_16","$.each","button_3","root_12","text_7","$.reset","classes","$.set_class","$.append","consequent_4","div_17","node_5","input_1","div_18","input_2","div_19","label","input_3","div_20","button_4","button_5","$0","$$value","consequent_5"],"ignoreList":[],"sources":["../../../../../../src/routes/instruments/+page.svelte"],"sourcesContent":["<script lang=\"ts\">\n  import { browser } from '$app/environment';\n  import type { CustomInstrument, Instrument } from '@gigwidget/core';\n  import { INSTRUMENTS } from '@gigwidget/core';\n\n  let instruments = $state<CustomInstrument[]>([]);\n  let loading = $state(true);\n  let hasLoaded = false;\n  let showCreateModal = $state(false);\n\n  // Form state\n  let newName = $state('');\n  let newBaseType = $state<Instrument>('guitar');\n  let newStrings = $state('E2,A2,D3,G3,B3,E4');\n  let newFrets = $state(22);\n  let newIsPublic = $state(false);\n  let creating = $state(false);\n  let formError = $state<string | null>(null);\n\n  // Common tunings\n  const COMMON_TUNINGS: Record<string, { name: string; strings: string }[]> = {\n    guitar: [\n      { name: 'Standard', strings: 'E2,A2,D3,G3,B3,E4' },\n      { name: 'Drop D', strings: 'D2,A2,D3,G3,B3,E4' },\n      { name: 'Open G', strings: 'D2,G2,D3,G3,B3,D4' },\n      { name: 'DADGAD', strings: 'D2,A2,D3,G3,A3,D4' },\n      { name: 'Open D', strings: 'D2,A2,D3,F#3,A3,D4' },\n    ],\n    bass: [\n      { name: 'Standard 4-string', strings: 'E1,A1,D2,G2' },\n      { name: 'Standard 5-string', strings: 'B0,E1,A1,D2,G2' },\n      { name: 'Drop D', strings: 'D1,A1,D2,G2' },\n    ],\n    ukulele: [\n      { name: 'Standard (GCEA)', strings: 'G4,C4,E4,A4' },\n      { name: 'Baritone (DGBE)', strings: 'D3,G3,B3,E4' },\n    ],\n    banjo: [\n      { name: 'Standard 5-string', strings: 'G4,D3,G3,B3,D4' },\n      { name: 'Open G', strings: 'G4,D3,G3,B3,D4' },\n    ],\n    mandolin: [{ name: 'Standard', strings: 'G3,D4,A4,E5' }],\n  };\n\n  $effect(() => {\n    if (!browser || hasLoaded) return;\n    hasLoaded = true;\n    loadInstruments();\n  });\n\n  async function loadInstruments() {\n    try {\n      const { CustomInstrumentRepository, getDatabase } = await import('@gigwidget/db');\n      const db = getDatabase();\n\n      const users = await db.users.toArray();\n      if (users.length > 0) {\n        instruments = await CustomInstrumentRepository.getByUser(users[0].id);\n      }\n    } catch (err) {\n      console.error('Failed to load instruments:', err);\n    } finally {\n      loading = false;\n    }\n  }\n\n  function selectTuning(tuning: { name: string; strings: string }) {\n    newStrings = tuning.strings;\n  }\n\n  async function createInstrument() {\n    formError = null;\n\n    if (!newName.trim()) {\n      formError = 'Name is required';\n      return;\n    }\n\n    const stringsArray = newStrings.split(',').map((s) => s.trim());\n    if (stringsArray.length < 1 || stringsArray.some((s) => !s)) {\n      formError = 'Invalid string tuning format';\n      return;\n    }\n\n    creating = true;\n    try {\n      const { CustomInstrumentRepository, getDatabase } = await import('@gigwidget/db');\n      const { generateId } = await import('@gigwidget/core');\n      const db = getDatabase();\n\n      const users = await db.users.toArray();\n      if (users.length === 0) return;\n\n      const newInstrument: CustomInstrument = {\n        id: generateId(),\n        userId: users[0].id,\n        name: newName.trim(),\n        baseType: newBaseType,\n        strings: stringsArray,\n        frets: newFrets,\n        isPublic: newIsPublic,\n        createdAt: new Date(),\n        updatedAt: new Date(),\n      };\n\n      await CustomInstrumentRepository.create(newInstrument);\n      instruments = [...instruments, newInstrument];\n\n      // Reset form\n      newName = '';\n      newBaseType = 'guitar';\n      newStrings = 'E2,A2,D3,G3,B3,E4';\n      newFrets = 22;\n      newIsPublic = false;\n      showCreateModal = false;\n    } catch (err) {\n      console.error('Failed to create instrument:', err);\n      formError = 'Failed to create instrument';\n    } finally {\n      creating = false;\n    }\n  }\n\n  async function deleteInstrument(id: string) {\n    if (!confirm('Delete this instrument? Your fingerings for it will also be deleted.')) return;\n\n    try {\n      const { CustomInstrumentRepository } = await import('@gigwidget/db');\n      await CustomInstrumentRepository.delete(id);\n      instruments = instruments.filter((i) => i.id !== id);\n    } catch (err) {\n      console.error('Failed to delete instrument:', err);\n    }\n  }\n\n  function formatStrings(strings: string[]): string {\n    return strings.join(' - ');\n  }\n</script>\n\n<svelte:head>\n  <title>Custom Instruments - Gigwidget</title>\n</svelte:head>\n\n<main class=\"container\">\n  <header class=\"page-header\">\n    <div class=\"header-left\">\n      <a href=\"/\" class=\"back-link\">‚Üê Home</a>\n      <h1>Custom Instruments</h1>\n      <p class=\"subtitle\">Create instruments with custom tunings for chord diagrams</p>\n    </div>\n    <button class=\"btn btn-primary\" onclick={() => (showCreateModal = true)}>+ New Instrument</button>\n  </header>\n\n  {#if loading}\n    <div class=\"loading\">Loading instruments...</div>\n  {:else if instruments.length === 0}\n    <div class=\"empty-state\">\n      <p>No custom instruments yet. Create one to use custom tunings in your chord diagrams!</p>\n      <button class=\"btn btn-primary\" onclick={() => (showCreateModal = true)}>Create Instrument</button>\n    </div>\n  {:else}\n    <div class=\"instruments-grid\">\n      {#each instruments as instrument (instrument.id)}\n        <div class=\"instrument-card\">\n          <div class=\"instrument-header\">\n            <h3 class=\"instrument-name\">{instrument.name}</h3>\n            <span class=\"base-type\">{instrument.baseType}</span>\n          </div>\n          <div class=\"instrument-details\">\n            <div class=\"detail-row\">\n              <span class=\"detail-label\">Tuning:</span>\n              <span class=\"detail-value tuning\">{formatStrings(instrument.strings)}</span>\n            </div>\n            <div class=\"detail-row\">\n              <span class=\"detail-label\">Frets:</span>\n              <span class=\"detail-value\">{instrument.frets}</span>\n            </div>\n            <div class=\"detail-row\">\n              <span class=\"detail-label\">Strings:</span>\n              <span class=\"detail-value\">{instrument.strings.length}</span>\n            </div>\n          </div>\n          {#if instrument.isPublic}\n            <span class=\"public-badge\">Shared in sessions</span>\n          {/if}\n          <div class=\"instrument-actions\">\n            <button class=\"btn btn-danger btn-sm\" onclick={() => deleteInstrument(instrument.id)}>\n              Delete\n            </button>\n          </div>\n        </div>\n      {/each}\n    </div>\n  {/if}\n</main>\n\n{#if showCreateModal}\n  <div class=\"modal-overlay\" onclick={() => (showCreateModal = false)}>\n    <div class=\"modal\" onclick={(e) => e.stopPropagation()}>\n      <h2>Create Custom Instrument</h2>\n\n      {#if formError}\n        <div class=\"error-message\">{formError}</div>\n      {/if}\n\n      <form onsubmit={(e) => { e.preventDefault(); createInstrument(); }}>\n        <div class=\"form-group\">\n          <label for=\"instrument-name\">Name *</label>\n          <input\n            type=\"text\"\n            id=\"instrument-name\"\n            bind:value={newName}\n            placeholder=\"e.g., Drop D Guitar, 7-String\"\n            required\n            disabled={creating}\n          />\n        </div>\n\n        <div class=\"form-group\">\n          <label for=\"base-type\">Base Instrument</label>\n          <select id=\"base-type\" bind:value={newBaseType} disabled={creating}>\n            {#each INSTRUMENTS as inst}\n              <option value={inst}>{inst.charAt(0).toUpperCase() + inst.slice(1)}</option>\n            {/each}\n          </select>\n        </div>\n\n        {#if COMMON_TUNINGS[newBaseType]}\n          <div class=\"form-group\">\n            <label>Quick Tunings</label>\n            <div class=\"tuning-buttons\">\n              {#each COMMON_TUNINGS[newBaseType] as tuning}\n                <button\n                  type=\"button\"\n                  class=\"tuning-btn\"\n                  class:active={newStrings === tuning.strings}\n                  onclick={() => selectTuning(tuning)}\n                  disabled={creating}\n                >\n                  {tuning.name}\n                </button>\n              {/each}\n            </div>\n          </div>\n        {/if}\n\n        <div class=\"form-group\">\n          <label for=\"strings\">String Tuning (comma-separated, low to high) *</label>\n          <input\n            type=\"text\"\n            id=\"strings\"\n            bind:value={newStrings}\n            placeholder=\"E2,A2,D3,G3,B3,E4\"\n            required\n            disabled={creating}\n          />\n          <span class=\"help-text\">Use note names with octave numbers (e.g., E2, A2, D3)</span>\n        </div>\n\n        <div class=\"form-group\">\n          <label for=\"frets\">Number of Frets</label>\n          <input\n            type=\"number\"\n            id=\"frets\"\n            bind:value={newFrets}\n            min=\"12\"\n            max=\"30\"\n            disabled={creating}\n          />\n        </div>\n\n        <div class=\"form-group checkbox-group\">\n          <label>\n            <input type=\"checkbox\" bind:checked={newIsPublic} disabled={creating} />\n            Share in P2P sessions (others can use this instrument temporarily)\n          </label>\n        </div>\n\n        <div class=\"modal-actions\">\n          <button type=\"button\" class=\"btn btn-secondary\" onclick={() => (showCreateModal = false)} disabled={creating}>\n            Cancel\n          </button>\n          <button type=\"submit\" class=\"btn btn-primary\" disabled={creating || !newName.trim()}>\n            {creating ? 'Creating...' : 'Create Instrument'}\n          </button>\n        </div>\n      </form>\n    </div>\n  </div>\n{/if}\n\n<style>\n  .page-header {\n    display: flex;\n    justify-content: space-between;\n    align-items: flex-start;\n    padding: var(--spacing-lg) 0;\n    border-bottom: 1px solid var(--color-border);\n  }\n\n  .header-left {\n    display: flex;\n    flex-direction: column;\n    gap: var(--spacing-xs);\n  }\n\n  .back-link {\n    font-size: 0.875rem;\n    color: var(--color-text-muted);\n  }\n\n  .back-link:hover {\n    color: var(--color-primary);\n  }\n\n  .subtitle {\n    color: var(--color-text-muted);\n    font-size: 0.875rem;\n  }\n\n  .loading {\n    text-align: center;\n    padding: var(--spacing-xl);\n    color: var(--color-text-muted);\n  }\n\n  .empty-state {\n    text-align: center;\n    padding: var(--spacing-xl);\n    background-color: var(--color-bg-secondary);\n    border-radius: var(--radius-lg);\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    gap: var(--spacing-md);\n    margin-top: var(--spacing-xl);\n  }\n\n  .empty-state p {\n    color: var(--color-text-muted);\n  }\n\n  .instruments-grid {\n    display: grid;\n    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));\n    gap: var(--spacing-md);\n    padding: var(--spacing-lg) 0;\n  }\n\n  .instrument-card {\n    background-color: var(--color-bg-secondary);\n    border-radius: var(--radius-lg);\n    padding: var(--spacing-md);\n    display: flex;\n    flex-direction: column;\n    gap: var(--spacing-sm);\n  }\n\n  .instrument-header {\n    display: flex;\n    justify-content: space-between;\n    align-items: flex-start;\n  }\n\n  .instrument-name {\n    font-size: 1.1rem;\n    font-weight: 500;\n    margin: 0;\n  }\n\n  .base-type {\n    background-color: var(--color-surface);\n    padding: var(--spacing-xs) var(--spacing-sm);\n    border-radius: var(--radius-sm);\n    font-size: 0.75rem;\n    text-transform: capitalize;\n  }\n\n  .instrument-details {\n    display: flex;\n    flex-direction: column;\n    gap: var(--spacing-xs);\n  }\n\n  .detail-row {\n    display: flex;\n    gap: var(--spacing-sm);\n    font-size: 0.875rem;\n  }\n\n  .detail-label {\n    color: var(--color-text-muted);\n  }\n\n  .detail-value.tuning {\n    font-family: monospace;\n    font-size: 0.8rem;\n  }\n\n  .public-badge {\n    display: inline-block;\n    background-color: var(--color-secondary);\n    padding: var(--spacing-xs) var(--spacing-sm);\n    border-radius: var(--radius-sm);\n    font-size: 0.7rem;\n    width: fit-content;\n  }\n\n  .instrument-actions {\n    margin-top: var(--spacing-sm);\n  }\n\n  .btn-sm {\n    padding: var(--spacing-xs) var(--spacing-sm);\n    font-size: 0.75rem;\n  }\n\n  .btn-danger {\n    background-color: transparent;\n    border: 1px solid var(--color-primary);\n    color: var(--color-primary);\n  }\n\n  .btn-danger:hover {\n    background-color: var(--color-primary);\n    color: white;\n  }\n\n  /* Modal */\n  .modal-overlay {\n    position: fixed;\n    inset: 0;\n    background-color: rgba(0, 0, 0, 0.7);\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    z-index: 100;\n    padding: var(--spacing-md);\n  }\n\n  .modal {\n    background-color: var(--color-bg);\n    border-radius: var(--radius-lg);\n    padding: var(--spacing-lg);\n    width: 100%;\n    max-width: 500px;\n    max-height: 90vh;\n    overflow-y: auto;\n  }\n\n  .modal h2 {\n    margin: 0 0 var(--spacing-lg);\n  }\n\n  .error-message {\n    background-color: rgba(233, 69, 96, 0.1);\n    border: 1px solid var(--color-primary);\n    color: var(--color-primary);\n    padding: var(--spacing-sm);\n    border-radius: var(--radius-md);\n    margin-bottom: var(--spacing-md);\n    font-size: 0.875rem;\n  }\n\n  .form-group {\n    margin-bottom: var(--spacing-md);\n  }\n\n  .form-group label {\n    display: block;\n    margin-bottom: var(--spacing-xs);\n    font-size: 0.875rem;\n    color: var(--color-text-muted);\n  }\n\n  .help-text {\n    display: block;\n    font-size: 0.75rem;\n    color: var(--color-text-muted);\n    margin-top: var(--spacing-xs);\n  }\n\n  .tuning-buttons {\n    display: flex;\n    flex-wrap: wrap;\n    gap: var(--spacing-xs);\n  }\n\n  .tuning-btn {\n    padding: var(--spacing-xs) var(--spacing-sm);\n    border-radius: var(--radius-sm);\n    background-color: var(--color-bg-secondary);\n    border: 1px solid var(--color-border);\n    font-size: 0.75rem;\n    cursor: pointer;\n    transition: all var(--transition-fast);\n  }\n\n  .tuning-btn:hover {\n    background-color: var(--color-surface);\n  }\n\n  .tuning-btn.active {\n    background-color: var(--color-primary);\n    border-color: var(--color-primary);\n    color: white;\n  }\n\n  .checkbox-group label {\n    display: flex;\n    align-items: center;\n    gap: var(--spacing-sm);\n    cursor: pointer;\n  }\n\n  .checkbox-group input[type='checkbox'] {\n    width: auto;\n  }\n\n  select {\n    appearance: none;\n    background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' fill='%23a0a0a0' viewBox='0 0 16 16'%3E%3Cpath d='M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z'/%3E%3C/svg%3E\");\n    background-repeat: no-repeat;\n    background-position: right var(--spacing-md) center;\n    padding-right: 2.5rem;\n  }\n\n  .modal-actions {\n    display: flex;\n    justify-content: flex-end;\n    gap: var(--spacing-sm);\n    margin-top: var(--spacing-lg);\n  }\n</style>\n"],"file":"_app/immutable/nodes/5.CQ76Gn_0.js"}